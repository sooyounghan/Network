-----
### 트랜스포트 계층 서비스 및 개요
----
1. 각기 다른 호스트에서 동작하는 애플리케이션 프로세스에 직접적인 통신 서비스를 제공하는 중요한 기능을 담당
2. 트랜스포트 계층 프로토콜은 각기 다른 호스트에서 동작하는 애플리케이션 프로세스 간 논리적 통신(Logical Communication)을 제공
   - 논리적 통신은 애플리케이션 관점에서 보면 프로세스들이 동작하는 호스트들이 직접 연결된 것 처럼 보임
<div align="center">
<img src="https://github.com/user-attachments/assets/1fa7fe71-3a48-4821-930a-53dcf3f3459f">
</div>

3. 트랜스포트 계층 프로토콜은 네트워크 라우터가 아닌 종단 시스템에서 구현
   - 송신 측의 트랜스포트 계층은 송신 애플리케이션 프로세스로부터 수신한 메세지를 인터넷 용어로 트랜스포트 계층 세그먼트(Segment)라고 알려진 트랜스포트 계층 패킷으로 변환
   - 이러한 변환은 애플리케이션 메세지를 트랜스포트 게층 세그먼트로 만들기 위해 작은 조각으로 분할하고, 각 조각에 트랜스포트 계층 헤더를 추가함으로써 수행 (조각으로 분할하지 않을 수 있음)
   - 그런 후, 트랜스포트 계층은 송신 종단 시스템에 있는 네트워크 계층으로 세그먼트를 전달하고, 세그먼트가 네트워크 계층 패킷(데이터그램) 안에 캡슐화되어 목적지로 전달
   - 네트워크 라우터는 오로지 데이터그램의 네트워크 계층 필드에 대해 동작하며, 즉, 라우터는 데이터그램 안 캡슐화된 트랜스포트 계층 세그먼트의 필드를 검사하지 않음
   - 수신 측에서 네트워크 계층은 데이터그램으로부터 트랜스포트 계층 세그먼트를 추출하고 트랜스포트 계층으로 세그먼트를 보내며, 이후 트랜스포트 계층은 수신 애플리케이션에서 세그먼트 내부 데이터를 이용할 수 있도록 수신된 세그먼트 처리

4. 네트워크 애플리케이션에는 하나 이상의 트랜스포트 계층 프로토콜을 사용할 수 있음
5. 트랜스포트 계층과 네트워크 계층 사이 관계
   - 프로토콜 스택에서 네트워크 계층 바로 상위에 트랜스포트 게층이 존재
   - 💡 트랜스포트 계층 프로토콜은 각기 다른 호스트에서 동작하는 프로세스들 사이 논리적 통신 제공, 네트워크 계층 프로토콜은 호스트들 사이 논리적 통신을 제공
   - 트랜스포트 계층 프로토콜들은 종단 시스템에 존재하며, 종단 시스템 안에서 트랜스포트 프로토콜은 애플리케이션 프로세스에서 네트워크 경계(즉, 네트워크 계층)까지 메세지를 운반하며, 또한 반대 방향으로 네트워크 계층에서 애플리케이션 프로세스로 메세지를 운반
   - 그러나 트랜스포트 프로토콜은 메세지가 네트워크 계층 내부에서 어떻게 이동하는지 언급하지 않으며, 실제로 중간 라우터는 트랜스포트 계층이 애플리케이션 메세지에 추가한 어떤 정보도 인식하지 못하며, 그 정보에 영향을 주지도 않음

6. 트랜스포트 계층이 제공할 수 있는 서비스는 하위 네트워크 계층 프로토콜 서비스 모델에 의해 제약을 받음
   - 만약, 네트워크 계층 프로토콜이 호스트 사이 전송되는 트랜스포트 계층 세그먼트에 대한 지연 보장이나 대역폭 보장을 제공할 수 없다면, 트랜스포트 계층 프로토콜은 프로세스끼리 전송하는 메세지에 대한 지연 보장이나 대역폭 보장을 제공할 수 없음
   - 그럼에도 불구하고, 하위 네트워크 프로토콜이 상응하는 서비스를 제공하지 못할 때도, 특정 서비스는 트랜스포트 프로토콜에 의해 제공될 수 있음
     + 예를 들어, 트랜스포트 계층은 하위 네트워크 프로토콜이 비신뢰적일 때, 즉, 네트워크 프로토콜이 패킷을 분실하거나 손상시키거나 복사본을 만들 때도, 애플리케이션에게 신뢰적인 데이터 전송 서비스 제공 가능
     + 트랜스포트 프로토콜은 네트워크 게층이 트랜스포트 게층 세그먼트의 기밀성을 보장할 수 없을 때도 애플리케이션 메세지를 읽지 못하도록 암호화 가능

-----
### 인터넷 트랜스포트 계층 개요
-----
1. UDP (User Datagram Protocol) : 비신뢰적, 비연결형인 서비스를 요청한 애플리케이션에게 제공
2. TCP (Transmission Control Protocol) : 신뢰적, 연결지향형인 서비스를 요청한 애플리케이션에게 제공
3. 인터넷에서 트랜스퐁트 계층 패킷을 세그먼트로 일컫음
   - 그러나 인터넷 문서(RFC)에서는 TCP에 대한 트랜스포트 계층 패킷을 세그먼트로 나타내면서, UDP에 대한 패킷을 데이터그램으로 표현하기도 하지만, 네트워크 계층 패킷에 대해서도 데이터그램이라는 같은 용어를 사용
   - 인터넷 네트워크 계층 프로토콜은 인터넷 프로토콜(Internet Protocol, IP)이라는 이름을 가지며, 호스트들 간 논리적 통신을 제공하는 최선형 전달 서비스(Best-Effort Delivery Service)
     + IP가 통신하는 호스트들 간 세그먼트를 전달하기 위해 최대한 노력하지만, 어떠한 보장도 하지 않음을 의미
     + 특히, IP는 세그먼트 전달을 보장하지 않고, 세그먼트가 순서대로 전달되는 것을 보장하지 않으며, 세그먼트 내부 데이터 무결성을 보장하지 않으므로, 비신뢰적 서비스라고 부름
     + 또한, 각 호스트가 적어도 하나의 IP 주소를 가지고 있음

4. UDP와 TCP의 가장 기본적인 기능 : 종단 시스템 사이 IP 전달 서비스를 종단 시스템에서 동작하는 두 프로세스 간의 전달 서비스로 확장하는 것으로, '호스트 대 호스트 전달'을 '프로세스 대 프로세스 전달'로 확장 (트랜스포트 계층 다중화(Transport-Layer Multiplexing), 역다중화(Demultiplexing))
   - UDP와 TCP는 헤더에 오류 검출 필드를 포함함으로 무결성 검사를 제공
   - 즉, UDP는 프로세스 대 프로세스 데이터 전달과 오류 검출을 제공하는 두 가지 서비스
     + UDP는 비신뢰적 서비스로서, 하나의 프로세스에 의해 전송된 데이터가 손상되지 않고, 목적지 프로세스에 도착하는 것을 보장하지 않음
   - TCP는 신뢰적인 데이터 전송을 제공
     + 흐름 제어, 순서 번호, 확인 응답, 타이머를 사용함으로써, TCP는 송신하는 프로세스로부터 수신하는 프로세스에게 데이터가 순서대로 정확하게 전달되도록 함
     + 즉, 종단 시스템 간 IP의 비신뢰적 서비스를 프로세스 사이의 신뢰적 데이터 전송 서비스로 만들어줌
     + 또한, 혼잡 제어(Congestion Control)를 사용하여, TCP 연결이 과도한 양의 트래픽으로 모든 통신하는 호스트들 사이 스위치와 링크를 혼잡하게 하는 것을 방지함
     + TCP는 혼잡한 네트워크 링크에서 각 TCP 연결이 링크의 대역폭을 공평하게 공유하여 통과하도록 해주며, 송신 측 TCP가 네트워크에 보낼 수 있는 트래픽을 조절함으로써 수행 (UDP는 트래픽이 조절되지 않으며, 허용이 되는 한 만족하는 어떤 속도로든 전송 가능)
       
