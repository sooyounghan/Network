-----
### 4G LTE 셀룰러 네트워크 : 구조 및 요소
-----
1. 4G 시스템 사용은 4G LTE(Long-Term Evolution) 표준의 구현을 통해 세계적으로 확산
2. 4G LTE 네트워크 구조의 주요 요소
<div align="center">
<img src="https://github.com/user-attachments/assets/af7a0fb4-3038-4f03-b09b-c4a59c136d09">
</div>

   - 네트워크는 크게 가장자리 부분의 무선 네트워크 부분과 코어 네트워크로 나뉨
   - 이동 장치(Mobile Device)
     + 셀룰러 통신 사업자의 네트워크에 연결되어 있는 스마트폰, 태블릿, 랩톱 또는 IoT 장치 등이며, 웹 브라우저, 지도 앱, 음성 및 화상회의 앱, 모바일 결제 앱 등이 실행되는 곳
     + 이동 장치는 일반적으로 인터넷의 네트워크 가장자리에 있는 호스트에서 봤듯 트랜스포트 및 애플리케이션 계층을 포함하여 전체 5계층 인터넷 프로토콜 스택을 구현
     + 이동 장치는 NAT를 통해 얻을 수 있는 IP 주소를 가지고 있는 네트워크 종단점
     + 전 세계적으로 고유한 IMSI(International Mobile Subscriber Identity)라는 64비트 식별자가 존재하며, 이는 SIM(Subscriber Identity Module) 카드에 저장
     + ISMI 카드는 가입자가 속한 국가 및 홈 네트워크를 포함하여 전 세계의 셀룰러 사업자 시스템에서 가입자를 식별 (MAC과 유사)
     + SIM 카드는 가입자가 접속할 수 있는 서비스에 대한 정보와 해당 가입자의 키 정보를 암호화
     + 공식적인 4G LTE 전문 용어로 이동 장치는 UE(User Equipment)
     + 이동 장치는 항상 이동할 수 있는 것이 아님 (예) 고정된 온도 센서 / 감시 카메라도 이동 장치)

  - 기지국 (Base Station)
     + 세룰러 통신 사업자 네트워크의 가장자리에 위치하며, 무선 전파 자원 및 담당 영역에 속한 이동 장치를 관리할 책임이 있음
     + 이동 장치는 기지국과 상호작용 함으로써 사업자의 네트워크에 접속
     + 기지국은 무선 접속 네트워크에서 장치의 인증 및 자원(무선 채널)의 할당 기능을 조정
     + 기지국은 이동 장치에서 게이트웨이까지 장치 고유의 IP 터널을 생성하고 셀 간의 장치 이동성을 처리하기 위해 상호작용함
     + 또한, 인접한 기지국들은 셀 사이의 간섭을 최소화 하기 위해 무선 스펙트럼을 관리하기 위한 상호 조정 기능을 수행
     + 공식적인 4G LTE 전문 용어로는 eNode-B
       * 어원 : 네트워크 최소 기능 포인트를 노드라고 부르는 이전 3G 용어에 기원
       * B : 1G 용어인 BS(Base Station) 또는 2G 용어인 BTS(Base Transceiver Station)
       * 4G LTE는 3G에 대한 진화이므로 e는 Node-B 앞에 오는 것
       * 5G 시스템에서 eNode-B : ng-eNB

<div align="center">
<img src="https://github.com/user-attachments/assets/036b4a50-a76b-4751-b61a-3b4c27604968">
</div>

  - 홈 가입자 서버 (Home Subscriber Server, HSS)
    + 제어 평면의 요소로서, HSS의 네트워크를 홈 네트워크로 사용하는 이동 장치에 대한 정보를 저장하는 데이터베이스
    + 이동 장치의 인증을 위해 이동성 관리 개체(MME)와 함께 사용

  - S-GW(Serving Gateway), P-GW(Packet data Network Gateway), 그 밖 네트워크 라우터
    + S-GW, P-GW는 이동 장치와 인터넷 사이에 위치하며 실제 자주 배치되는 2개의 라우터
    + PDN 게이트웨이 (P-GW) : 이동 장치에 NAT IP 주소를 제공하고 NAT 기능 제공하며, 이동 장치에서 시작된 데이터그램이 더 큰 인터넷으로 들어가기 전 마지막으로 만나는 LTE 요소로, 외부 세계에서 다른 게이트웨어 라우터와 마찬가지로 보임
    + LTE 네트워크 안에서 이동 노드의 이동성은 P-GW 뒤의 네트워크는 감춰지며, 게이트웨이 라우터 외에도 셀룰러 사업자의 all-IP 코어에는 전통적인 라우터 기능을 수행하는 라우터들이 존재하는데, 이들은 IP 데이터그램을 LTE 코어 네트워크 안에서 종료하는 경로를 따라 전달

  - 이동성 관리 개체(Mobility Management Entry, MME)
    + 제어 평면의 요소로서, HSS와 함께 네트워크에 접속하려는 장치를 인증하는데 중요한 기능을 수행
    + 이동 장치와 PDN 인터넷 게이트웨이 간 데이터 경로에 터널을 설정하고, 셀룰러 네트워크 안에서 활성화된 이동 장치의 셀 위치 정보를 유지 및 관리
    + 💡 이동 장치의 데이터그램이 인터넷으로 전송되거나 들어오는 전달 경로 상에 있지 않음

  - 인증 (Authentication)
    + 네트워크와 네트워크에 부착된 이동 장치가 상호 인증하는 것은 중요
    + 즉, 네트워크는 부착된 장치가 실제로 주어진 IMSI와 연관된 장치라는 것을 알아야 하고, 이동 장치는 자신이 부착하고 있는 네트워크가 또한 합법적 셀룰러 네트워크라는 것을 알아야 함
    + 이동 장치로부터 접속 요청을 수신한 후 로컬 MME는 이동 장치의 홈 네트워크 HSS에 접촉하며, 이후 이동 장치의 홈 HSS는 홈 HSS가 이 MME를 통해 인증을 수행하고 있음을 증명하기 위해, 이동 장치가 실제로 ISMI와 연관된 이동 장치임을 MME에 증명하기 위해, 로컬 MME에 암호화된 정보를 충분히 반환
    + 이동 장치가 자신의 홈 네트워크에 연결되었다면 인증을 위해 연락할 HSS는 동일한 홈 네트워크에 위치하지만, 이동 장치가 다른 셀룰러 네트워크 사업자에 의해 운영되는 방문 네트워크 상에서 로밍할 때, 그 로밍 네트워크 내 MME는 이동 장치의 홈 네트워크 내에 있는 HSS에 접촉할 필요가 있음

  - 경로 설정(Path Setup)
    + 이동 장치로부터 게이트웨이 라우터로의 데이터 경로는 이동 장치와 기지국 사이 무선 첫 번째 홉, 기지국과 서빙 게이트웨이(S-GW) 사이 연결된 IP 터널, 서빙 게이트웨이, PDN 게이트웨이로 구성
    + 터널은 MME 제어 하 설정되며, 장치가 이동할 때 장치 이동성을 용이하게 하기 위해 데이터 전달(네트워크 라우터 간 직접 전달이 아닌)에 사용
    + 장치가 다른 기지국으로 이동했을 때, 기지국에서 종료되는 터널 종단점만 변경되며, 다른 터널 종단점 및 터널과 관련된 서비스 품질은 변경되지 않음

  - 셀 위치 추적(Cell Location Tracking)
    + 이동 장치가 셀들 사이를 이동함에 따라, 기지국들은 이동 장치의 위치에 MME를 갱신할 것
    + 이동 장치가 수면 모드에 있지만 만약 셀 사이를 이동하는 경우, 기지국은 더 이상 해당 장치 위치를 추적할 수 없음
    + 이 경우, 페이징이라고 하는 프로세스를 통해 꺠어난 장치를 찾는 것은 MME의 책임
   
3. 주요 LTE 구조 요소와 무선 랜(WLAN)과의 비교
<div align="center">
<img src="https://github.com/user-attachments/assets/47a70f63-c079-4437-aad4-6c8cd4d4e6fc">
</div>

-----
### 2G, 3G, 4G로의 네트워크 구조 진화
-----
1. 기존 회선 교환 전화 네트워크는 음성 통신을 여러 가지 응용 중 하나로서 포함하는 all-IP 패킷 교환 네트워크로 변화되었음
2. 2G 및 3G 셀룰러 네트워크 구조 요소
<div align="center">
<img src="https://github.com/user-attachments/assets/cf7a78ed-1f99-4cef-8049-20043c009cae">
</div>

<div align="center">
<img src="https://github.com/user-attachments/assets/ea2b6b5c-4b4a-4570-aa63-b8e71018c489">
</div>

   - 2G 네트워크는 회선 교환 방식의 이동 전화 네트워크이지만, 기지국에 의해 제어되는 무선 가장자리, 통신 사업자 네트워크에서 외부 네트워크로 가는 게이트웨이, 기지국과 게이트웨이 사이 집중화 지정 등 데이터 서비스 보다는 음성에 대한 유사한 개념적 구조
   - 3G 네트워크는 회선 교환 음성 서비스와 패킷 교환 데이터 서비스를 모두 지원하는 구조로서, 음성 전용 네트워크에서 음성 및 데이터 서비스가 결합된 네트워크로의 전환이 일어남
   - 기존 핵심적인 2G 셀룰러 음성 네트워크 요소는 그대로 유지된 채, 추가로 셀룰러 데이터 기능이 기존 핵심 음성 네트워크와 병렬적으로 그리고 독립적으로 가능해짐
   - 음성 및 데이터, 2개의 네트워크 분할 지점은 네트워크 가장자리의 무선 기지국
