-----
### 소켓 프로그래밍
-----
1. 일반적인 네트워크 애플리케이션은 2개의 종단 시스템에 존재하는 클라이언트 프로그램과 서버 프로그램으로 구성
2. 두 프로그램을 수행하면 클라이언트와 서버 프로세스가 생성되고, 두 프로세스가 소켓으로부터 읽고(read), 소켓에 쓰기(write)를 통해 서로 통신
3. 클라이언트-서버 애플리케이션에는 두 가지 형태 존재
   - RFC에 정의된 표준 프로토콜을 구현하는 클라이언트-서버 애플리케이션 (개방형(Open))
     + 동작을 규정하는 규칙들이 모두에게 알려져 있으며, 클라이언트와 서버 프로그램은 RFC에 정의된 규칙을 따라야 함
   - 개인의 독점적인 네트워크 애플리케이션 : 공식적으로 출판되지 않은 애플리케이션 계층 프로토콜 채택

4. UDP 이용 소켓 프로그래밍
   - 다른 컴퓨터에서 수행되는 프로세스 간 통신은 소켓에 메세지를 보냄으로 실행되며, 애플리케이션 개발자는 소켓의 애플리케이션 계층에 대한 제어권을 갖지만 트랜스포트 계층 쪽에 대한 제어권은 거의 없음
   - 송신 프로세스가 데이터의 패킷을 소켓을 통해 전송하기 전, UDP를 사용할 때 먼저 패킷에 목적지 주소를 붙여넣어줘야 하며, 송신자의 소켓 통과 후 인터넷은 이 목적지 주소를 이용해 패킷을 인터넷을 통해 수신 프로세스에 있는 소켓으로 라우트
   - 패킷에는 그 목적지 호스트의 IP 주소가 목적지 주소의 일부가 되며, 패킷에 목적지 주소를 포함함으로 인터넷의 라우터는 목적지 호스트로 인터넷을 통해 패킷을 라우트 할 수 있음
   - 그러나 호스트는 하나 혹은 그 이상의 소켓을 갖는 많은 네트워크 애플리케이션을 수행하고 있을 수 있으므로 목적지 호스트 내 특정한 소켓을 식별할 필요가 있음 : 따라서, 소켓이 생성될 때 포트 번호(Port Number)라고 하는 식별자가 소켓에 할당
   - 패킷의 목적지 주소는 소켓의 포트 번호도 포함
     + 송신 프로세스 : 목적지 호스트의 IP 주소 + 목적지 소켓의 포트 번호로 구성된 목적지 주소를 패킷에 붙임
     + 그러나, 출발지 주소를 패킷에 붙이는 것은 하부 운영체제가 자동으로 실행
<div align="center">
<img src="https://github.com/user-attachments/assets/87aeff5f-946e-4154-8a92-8f990d841524">
</div>

5. TCP 소켓 프로그래밍
   - TCP는 연결지향 프로토콜로, 클라이언트와 서버가 서로에게 데이터를 보내기 전 먼저 TCP 연결을 설정할 필요가 있음을 의미
   - TCP 연결의 한쪽은 클라이언트 소켓에 연결되고, 다른 쪽은 서버 소켓에 연결
   - TCP 연결을 생성할 때 클라이언트 소켓 주소(IP주소와 포트 번호)와 서버 소켓 주소(IP 주소와 포트 번호)를 연결과 연관시킴
   - TCP 연결이 설정된 후, 한쪽에서 다른 쪽으로 데이터를 보내려면 소켓을 통해 데이터를 TCP 연결로 보내면 됨
   - 클라이언트는 서버로의 접속을 시도하는데, 서버는 클라이언트의 초기 접속에 대응하도록 준비
     + 클라이언트가 접속을 시도하기 전 프로세스가 먼저 수행되어야 하며, 서버 프로그램은 임의의 컴퓨터에서 수행되고 있는 클라이언트로부터의 초기 접속을 처리하는 특별한 소켓을 가져야 함
     + 서버 프로세스가 수행되면 클라이언트 프로세스는 서버로의 TCP 연결을 시도하며, 클라이언트 프로그램에서 TCP 소켓을 생성함으로써 가능하며, 클라이언트는 TCP 소켓을 생성할 때 서버에 있는 환영(Welcome) 소켓의 주소, 즉 서버의 IP 주소와 소켓의 포틉 ㅓㄴ호 명시
     + 소켓을 생성한 후 클라이언트 3-Way Handshake를 하고, 서버와 TCP 연결을 설정하며, 트랜스포트 계층에서 일어나므로 클라이언트와 서버 프로그램은 전혀 인식하지 못함
     + 이 과정에서 서버가 SYN를 얻게 되면, 서버는 해당 클라이언트에게 새로운 소켓을 생성 (TCP 소켓 객체) - 통신을 위해 차후에 서버쪽에서 새롭게 생성되는 연결 소켓
     + 즉, 애플리케이션 관점에서 클라이언트 소켓과 서버 연결 소켓은 파이프에 의해 직접 연결

<div align="center">
<img src="https://github.com/user-attachments/assets/f978bbff-25b6-4fd6-a2ec-260046319522">
</div>

   - 클라이언트 프로세스는 자신의 소켓으로 임의의 바이트를 보낼 수 있으며, 보낸 순서대로 서버 프로세스가 바이트를 연결 소켓을 통해 수신하도록 TCP가 보장
   - 따라서 TCP는 클라이언트와 서버 프로세스간 신뢰적 서비스 제공
   - 클라이언트 프로세스는 소켓으로 바이트 뿐만 아니라 소켓으로 바이트를 수신받을 수 있으며, 서버 프로세스 역시 동일
