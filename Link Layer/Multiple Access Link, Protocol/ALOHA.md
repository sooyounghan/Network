-----
### 슬롯 알로하 (Slot ALOHA)
-----
1. 가장 단순한 랜덤 접속 프로토콜 중 하나
2. 가정
   - 모든 프레임은 정확히 L 비트로 구성
   - 시간은 L / R초의 슬롯으로 나뉨 (즉, 한 슬롯은 한 프레임 전송에 걸리는 시간과 같음)
   - 노드는 슬롯의 시작점에서만 프레임을 전송하기 시작
   - 각 노드는 언제 슬롯이 시작하는지 알 수 있게끔 동기화되어 있음
   - 한 슬롯에서 2개 이상 프레임이 충돌하면, 모든 노드는 그 슬롯이 끝나기 전 충돌 발생을 알게 됨

3. p를 확률(0 ~ 1 사이 숫자)라고 하면, 각 노드에서 슬롯 알로하의 동작
   - 노드는 전송할 새 프레임이 있으면, 다음 슬롯이 시작할 때까지 기다렸다가 그 슬롯에 전체 프레임을 전송
   - 만약 충돌하지 않으면, 노드는 성공적으로 자신의 프레임을 전송 : 따라서, 그 프레임을 재전송할 필요가 없음 (전송할 것이 또 있으면, 노드는 새 프레임 준비)
   - 만약 충돌하면, 노드는 그 슬롯이 끝나기 전 충돌 검출 : 노드는 그 프레임이 충돌 없이 전송될 때까지 확률 p로 해당 프레임을 다음 슬롯들에서 재전송

4. 충돌과 관련된 모든 노드는 각자 독립적으로 시행
   - 재전송할 확률이 p라면, 이번 슬롯을 건너뛰고 다음 슬롯에서 재전송할 확률은 1 - p

5. 장점
   - 채널 분할과 달리, 하나의 활성 노드로 하여금 채널의 전속력 R로 계속해서 프레임 전송 가능 (전송할 프레임이 있는 노드 : 활성 노드)
   - 각 노드가 충돌을 감지하고 언제 재전송할 것인지 각자 결정하므로 상당히 분산되어 있음 (그러나 슬롯 알로하의 경우, 노드는 슬롯을 동기화해야 함)
     + CSMA 프로토콜은 이와 같은 동기화가 필요 없으며, 슬롯 개념이 없는 알로하 프로토콜도 존재

6. 슬롯 알로하는 활성 노드가 하나일 때 잘 동작하는데, 여러 노드가 활성일 경우의 효율
<div align="center">
<img src="https://github.com/user-attachments/assets/f49a5aea-7f84-46da-bfa6-b676136fac45">
</div>

   - 활성 노드가 많이 있으면 일부 슬롯이 충돌로 인해 결과적으로 낭비가 됨
   - 모든 활성 노드가 확률적인 전송 정책 때문에 전송을 억제하는 경우 일부 슬롯을 비어있게 됨
     + 낭비되지 않는 슬롯 : 정확히 한 노드만 전송하는 슬롯
     + 즉, 정확히 한 노드만 전송하는 슬롯 : 성공한 슬롯
   - 슬롯 다중 접속 프로토콜의 효율성은 항상 전송할 프레임이 많은 활성 노드가 많은 경우의 장시간에 걸친 성공적인 슬롯들의 부분으로 정의
   - 만일, 어떤 접속 제어도 사용하지 않고 노드 후 바로 재전송하면 효율은 0이될 것

7. 슬롯 알로하의 최대 효율
   - 노드가 각 슬롯마다 확률 p로 전송한다고 가정 (노드는 항상 전송할 프레임이 있으며, 이미 충돌을 겪은 프레임뿐 아니라 새로운 프레임에 대해서도 p의 확률로 전송)
   - 우선 N개의 노드가 있다고 가정
   - 주어진 슬롯이 성공적인 슬롯일 확률은 노드들 중 한 노드만 전송하고 나머지 N - 1개 노드는 전송하지 않을 확률
   - 주어진 노드가 전송할 확률은 p이며, 나머지 노드들이 전송하지 않을 확률은 $(1 - p)^{N - 1})$
   - 따라서, 주어진 노드가 성공할 확률은 $p(1 - p)^{N - 1})$이며, N개의 노드가 있으므로 임의의 한 노드가 성공할 확률은 $Np(1 - p)^{N - 1})$
   - 따라서, N개 활성 노드가 있을 때 슬롯 알로하의 효율 : $Np(1 - p)^{N - 1}$
   - N개 활성 노드에 대해 최대 효율을 구하기 위해서는 이 식을 최대화하는 $$p^{＊}$$를 구해야 함
   - 활성 노드가 많은 경우 최대 효율을 구하기 위해 N이 무한대가 될 때의 $$N p^{＊}(1 - p^{＊})^{N-1}$$의 극한값을 구해야 함
   - 이를 계산하면 이 프로토콜의 최대 효율은 1 / e = 0.37로, 많은 노드가 전송할 프레임이 많을 때 기껏해야 37%의 슬롯만 낭비되지 않음
   - 따라서, 채널의 실제 전송률은 R bps가 아닌 0.37R bps일뿐이며, 슬롯의 37%가 빈채로 전송되며, 슬롯의 26%는 충돌을 겪음

-----
### 알로하
-----
1. 슬롯 알로하 프로토콜은 모든 노드가 슬롯의 시작점에서 전송을 시작할 수 있도록 동기화 되어있기를 요구
2. 처음 알로하 프로토콜은 슬롯이 없고 완전히 분산된 프로토콜
   - 순수 알로하 프로토콜(Pure ALOHA) : 프레임이 도착하면(즉, 네트워크 계층 데이터그램이 송신 노드의 네트워크의 계층으로부터 아래로 전달되면), 노드는 즉시 그 프레임 전체를 브로드캐스트 채널로 보냄
   - 만일 전송된 프레임이 하나 이상의 다른 전송과 충돌하면, 노드는 확률 p로 그 프레임을 즉시 (단, 자신의 충돌된 프레임이 완전히 전송된 다음) 재전송
   - 즉시 재전송하지 않는 경우, 노드는 프레임 전송 시간 동안 대기하며, 노드는 기다리고 나서 그 프레임을 확률 p로 전송하거나 아니면 확률 1 - p로 또다른 프레임 시간 동안 기다림(전송하지 않고 유휴(Idle) 상태로 존재)

3. 순수 알로하의 최대 효율 계산 - 개별 노드
   - 슬롯 알로하를 분석할 때 사용한 가정을 그대로 사용하며, 프레임 전송 시간을 단위 시간으로 함
   - 임의 시점에 노드가 프레임을 전송할 확률은 p이며, 시간 $t_{0}$에 프레임 전송을 시작했다고 가정
<div align="center">
<img src="https://github.com/user-attachments/assets/2e99b608-eda4-4eb3-bf26-972011fbeba7">
</div>

   - 이 프레임이 성공적으로 전송되기 위해서는 다른 노드들이 시간 간격 [ $t_{0} - 1, t_{0}$ ] 동안 전송을 시작해서는 안 됨
   - 만일 전송을 하게 되면 노드 i의 프레임 전송 시작 부분과 겹칠 것이며, 이 시간 동안 다른 모든 노드가 전송을 시작하지 않을 확률은 $(1 - p)^{N - 1})$
   - 유사하게, 노드 i의 전송의 뒷부분과 겹치지 않도록 노드 i가 전송되는 동안 다른 노드가 전송되면 안되므로, 역시 노드가 전송을 시작하지 않을 확률도 $(1 - p)^{N - 1})$
   - 그러므로 주어진 노드가 성공적인 전송을 할 확률은 $p(1 - p)^{2(N - 1)})$
   - 슬롯 알로하처럼 극한값을 취하면, 최대 효율은 1 / (2e)밖에 되지 않음 (정확히 슬롯 알로하의 절반)
