-----
### 링크 계층 주소 체계
-----
1. 호스트와 라우터는 링크 계층 주소를 가짐
2. 호스트와 라우터는 네트워크 계층 주소를 가지는데, IP 주소를 링크 계층 주소로 변환해주는 것이 ARP (Address Resolution Protocol)

-----
### MAC
-----
1. 실제로 링크 계층 주소를 가진 것은 호스트나 라우터가 아닌 호스트나 라우터의 어댑터(네트워크 인터페이스)
2. 다수의 네트워크 인터페이스에 갖고 있는 호스트나 라우터는 여러 개의 링크 계층 주소를 갖게 됨
   - 💡 링크 계층 스위치는 호스트나 라우터를 연결해주는 인터페이스에 링크 계층 주소를 할당받지 않음
   - 링크 게층 스위치가 호스트와 라우터 간 데이터그램을 전달하기 때문임 (호스트나 라우터는 중간에 거쳐 가는 스위치의 주소를 프레임에 명시하지 않음)

3. 링크 계층 주소는 랜 주소(LAN Address), 물리 주소(Physical Address) 또는 MAC 주소라고 알려져있음
   - 대부분의 랜(이더넷과 802.11 무선 랜 포함)의 경우 MAC 주소는 길이가 6바이트이며, 따라서 $2^{48}$개만큼의 사용 가능한 랜 주소가 있음
<div align="center">
<img src="https://github.com/user-attachments/assets/48910c65-44b1-45e7-8474-e6e4095d063a">
</div>

   - 6바이트 주소는 주로 16진수로 표기법으로 표시되며, 주소의 각 바이트는 2개의 16진수로 표시
   - MAC 주소는 본래 영구적이도록 설계되었으나, 이제는 소프트웨어를 사용해 어댑터의 MAC 주소 변경 가능

4. MAC 주소는 어떤 어댑터도 동일한 주소를 갖지 않음
   - IEEE가 MAC 주소 공간을 관리하기 때문임
   - 어댑터를 제조하려면 $2^{24}$개의 주소로 이루어진 주소 영역을 구매해야하는데, IEEE 에서는 MAC 주소의 첫 24비트를 고정하고, 나머지 24비트를 회사로 하여금 각 어댑터에게 유일하게 부여하는 방식으로 $2^{24}$개 주소 할당

5. 어댑터의 MAC 주소는 계층 구조가 아닌 평면 구조를 가지며, 어댑터 위치에 따라 변경되지 않음
   - 이더넷 카드가 있는 휴대용 컴퓨터는 어디에 있던지 항상 동일한 MAC 주소를 가짐
   - 이에 반해 IP 주소는 계층 구조(네트워크 부분과 호스트 부분)를 가지며 호스트 IP 주소는 호스트가 이동하면(다른 네트워크 접속) 변경되어야 함

6. 어댑터가 프레임을 목적지 어댑터로 전송할 때, 송신 어댑터는 프레임에 목적지 어댑터의 MAC 주소를 넣고 그 프레임을 랜 상으로 전송
   - 스위치는 종종 프레임을 자신의 모든 인터페이스로 브로드캐스팅
   - 어댑터는 자신을 목적지로 하지 않는 프레임을 수신할 수도 있으며, 프레임을 수신한 어댑터는 프레임 안의 목적지 MAC 주소가 어댑터 자신의 MAC 주소와 일치하는지 검사
   - 만약 일치하면, 어댑터는 프레임에 포함된 데이터 그램을 추출하고, 그 데이터그램을 프로토콜 스택의 위쪽으로 전달
   - 만약 일치하지 않으면, 어댑터는 네트워크 계층 데이터그램을 프로토콜 스택 위쪽으로 전달하지 않고, 그 프레임을 폐기
   - 따라서, 프레임을 수신했을 때 목적지 노드만 인터럽트

7. 그러나 때때로 송신 어댑터는 랜 상의 다른 모든 어댑터가 자신이 전송한 프레임을 수신하고 처리하기를 원함
     - 이 경우, 송신 어댑터는 프레임 목적지 주소 필드에 특수한 MAC 브로드캐스트 주소(Broadcast Address)를 넣음
     - 6바이트 주소를 사용하는 랜(이더넷과 802.11)에서 브로드캐스트 주소는 48개의 1로 된 비트열 (즉, 16진수 표기법으로 ```FF-FF-FF-FF-FF-FF```)

-----
### 참고 : 계층을 독립적으로 유지하는 것
-----
1. 호스트와 라우터가 네트워크 계층 주소 뿐만 아니라 MAC 주소를 갖는 이유
   - 랜은 IP와 인터넷만을 위해서가 아닌 임의의 네트워크 계층 프로토콜을 위해 설계
     + 어댑터에게 중립적인 MAC 주소가 아닌 IP 주소를 할당하면, 어댑터는 다른 네트워크 계층 프로토콜을 쉽게 지원 불가
   - 어댑터가 MAC 주소 대신 네트워크 계층 주소를 사용한다면, 네트워크 계층 주소를 어댑터 RAM에 저장하고 어댑터를 이동할 때마다 재구성해야 함
   - 또 다른 방법 : 어댑터에서 어떤 주소도 사용하지 않고 수신한 프레임의 데이터(일반적으로 IP 데이터그램)을 프로토콜 스택 상위 계층으로 전달
     + 네트워크 계층은 일치하는 네트워크 계층 주소를 검사
     + 문제점 : 동일한 브로드캐스트 랜의 다른 노드에게로 가는 프레임을 포함한 랜 상의 모든 전송 프레임에 의해 호스트가 인터럽트 됨

2. 즉, 네트워크 계층이 독립적인 구성 요소가 되려면 각 계층은 자신만의 주소 기법을 가져야만 함
