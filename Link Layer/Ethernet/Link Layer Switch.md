-----
### 링크 계층 스위치
-----
1. 스위치 : 들어오는 링크 계층 프레임을 수신해서 출력 링크로 전달
   - 그 자체가 서브넷의 호스트와 라우터에게 투명
   - 즉, 호스트 / 라우터는 프래임을 스위치가 아닌 다른 호스트 / 라우터를 목적지로 해서 랜상으로 보내며, 중간에 스위치가 프레임을 받아 다른 노드로 전달하는 것을 알지 못함
   - 또한, 프레임이 스위치 출력 인터페이스들 중 하나에 도착하는 혹도가 그 인터페이스의 링크 용량을 일시적 초과 가능
   - 이 문제 해결을 위해, 라우터 출력 인터페이스가 데이터그램 버퍼를 가지듯, 스위치 출력 인터페이스도 버퍼를 가짐

2. 포워딩과 필터링
   - 필터링(Filtering) : 프레임을 인터페이스로 전달할지 또는 폐기할지 결정하는 기능
   - 포워딩(Forwarding) : 프레임이 전송될 인터페이스를 결정하고 프레임을 해당 인터페이스로 내보내는 기능
   - 스위치 테이블을 이용
     + 랜 상의 모든 호스트와 라우터는 아니지만, 일부 노드에 대한 엔트리 포함
     + 스위치 테이블 엔트리에는 MAC 주소 / 해당 MAC 주소로 가게 하는 스위치 인터페이스 / 해당 엔트리가 테이블에 만들어진 시점에 대한 정보 존재

3. 다수의 최신 패킷 스위치들은 2계층 MAC 주소(2계층 스위치로서 동작)나 3계층 IP 주소(3계층 라우터로서 동작)를 기반으로 전달하도록 설정될 수 있음
   - 스위치는 IP 주소가 아닌 MAC 주소 기반으로 패킷을 전달함
   - 또한, 기존 스위치 테이블이 라우팅 테이블과 다른 방식으로 구현

4. 예제 - 목적지 주소가 ```DD-DD-DD-DD-DD-DD```를 가진 프레임이 스위치 인터페이스 x에 도착했다고 가정
   - 스위치는 자신의 테이블에서 MAC 주소 ```DD-DD-DD-DD-DD-DD```를 이용해서 인덱싱
   - 가능한 3가지 경우
     + 테이블에 해당 엔트리가 없을 경우 : 스위치는 프레임의 복사본을 인터페이스 x를 제외한 모든 인터페이스 앞에 있는 출력 버퍼에 전달 (즉, 목적지 주소에 대한 엔트리가 없으면 스위치는 프레임을 브로드캐스트)
     + 테이블에 인터페이스 x와 연관된 엔트리가 존재하는 경우 : 어댑터 ```DD-DD-DD-DD-DD-DD```를 포함하는 랜 세그먼트로부터 왔으므로, 프레임을 다른 인터페이스로 전달할 필요 없이, 프레임을 제거함으로써 필터링 기능 수행
     + 테이블에 인터페이스 y ≠ x와 연관된 엔트리가 존재하는 경우 : 프레임은 인터페이스 y에 접속된 랜 세그먼트로 전달되어야 하므로, 인터페이스 y 앞에 있는 출력 버퍼에 프레임을 넣음으로 포워딩 기능 수행

5. 예제 - 목적지 주소 ```62-FE-F7-11-89-A3```을 가진 프레임이 인터페이스 1로부터 스위치에 도착했다고 가정
   - 스위치는 자신의 테이블에서 목적지가 인터페이스 1에 연결된 랜 세그먼트에 있는지 확인
   - 이는 프레임이 목적지가 있는 랜 세그먼트로 이미 브로드캐스트 되었음을 뜻하며, 따라서 스위치는 그 프레임을 필터링(폐기)
   - 똑같은 목적지 주소를 가진 프레임이 인터페이스 2로 도착했다고 가정
   - 스위치는 자신의 테이블을 참조해 목적지가 인터페이스 1쪽에 있음을 알게 됨
   - 따라서, 스위치는 프레임을 인터페이스 1의 출력 버퍼로 전달
   - 스위치 테이블이 완벽하고 정확하다면, 스위치는 프레임을 브로드캐스트하지 않고 목적지로 전달
