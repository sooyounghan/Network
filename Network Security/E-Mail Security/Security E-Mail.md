-----
### 보안 전자메일 시스템
-----
1. 필요한 보안 특성
   - 기밀성 (Confidentiality) 
   - 송신자 인증 (Sender Authencation)
   - 메세지 무결성 (Message Integrity)
   - 수신자 인증 (Receiver Authentication)

2. 기밀성
   - 기밀성을 제공하는 가장 직접적인 방법은 앨리스가 대칭키 기술(예) AES, DES)로 메세지를 암호화하고 밥은 받은 메세지를 복호화하는 것
   - 대칭키가 충분히 길고 앨리스와 밥만 키를 알고 있다면, 다른 누군가가 메세지를 읽는 것은 매우 어려움
   - 단, 앨리스와 밥만이 알 수 있도록 대칭키를 배포해야 한다는 근본적 어려움이 존재하므로, 따라서 자연히 다른 선택으로 공개키 암호화(예) RSA)를 고려해야함
   - 공개키를 이용한 방법에서 밥은 그의 공개키를 누구나 사용할 수 있게 하고(예) 공개키 서버나 개인 웹 페이지를 통해) 앨리스는 밥의 전자 메일 주소로 암호화된 메세지를 보냄
     + 밥이 메세지를 받으면 개인키를 이용해 복호하며, 앨리스가 사용하는 키가 밥의 공개키인 것이 확실하다면 이는 기밀성을 제공하는 훌륭한 수단
     + 다만 공개키 암호화가 상대적으로 특정 길이가 긴 메세지에 대해 비효율적이라는 문제 존재
   - 비효율성 문제 해결을 위해 세션키를 이용 (+ : 결합(Concatentation), - : 분리(Deconcatentation))
<div align="center">
<img src="https://github.com/user-attachments/assets/59fd0823-25ed-4bd7-88fa-acb160da5d60">
</div>

   - 앨리스는 임의의 대칭 세션키 $K_{S}$를 선택
   - 그 대칭키로 메세지 m을 암호화
   - 그 대칭키는 밥의 공개키 $K_B^{+}(m)$로 암호화
   - 암호화된 메세지와 암호화된 대칭키가 한 꾸러미가 되도록 이어 붙임
   - 꾸러미를 밥의 전자 메일 주소로 보냄
   - 밥이 꾸러미를 받으면, 그의 개인키 $K_B^{-}(m)$를 사용해 대칭키를 얻음
   - 대칭키 $K_S$로 메세지 m을 복호화

3. 송신자 인증과 메세지 무결성을 제공 : 전자서명과 메세지 요약문(해시) 사용
<div align="center">
<img src="https://github.com/user-attachments/assets/1b8b1a2a-9fbc-44ac-8059-8f2e0b4aef7b">
</div>

   - 앨리스는 메세지 요약문을 어기 위해 자신의 메세지 m에서 해시 함수 H(예) MD5)를 적용
   - 전자서명을 만들기 위해 해시 함수의 결과를 그녀의 개인키 $K_A^{-}$로 암호화
   - 원래의(암호화 되지 않은) 메세지와 서명을 결합해 꾸러미를 만듬
   - 이 꾸러미를 밥의 전자메일 주소로 보냄
   - 밥이 꾸러미를 받으면, 그는 서명된 메세지 요약문에 앨리스의 공개키 $K_A^{+}$를 적용
   - 이 연산의 결과를 자신이 직접 해시 함수 H를 메세지에 적용한 결과와 비교
   - 두 결과가 같으면, 밥은 그 메세지는 앨리스가 보냈으며 변경되지 않았음을 확신할 수 있음

4. 기밀성, 송신자 인증, 메세지 무결성을 동시에 제공하는 전자메일 시스템 설계
<div align="center">
<img src="https://github.com/user-attachments/assets/8e234668-4bd8-425b-bf7e-9648c93c3971">
</div>

   - 원래 메세지와 전자서명된 메세지 해시로 구성된 예비 꾸러미를 만듬
   - 이 예비 꾸러미 자체를 하나의 보통 메세지로 취급해서 암호화하여 밥에게 전송
   - 이 때  밥에게 전송되는 새 꾸러미가 만들어짐
   - 밥은 이 꾸러미를 받으면, 수신자 동작을 수행
   - 앨리스가 공개키 암호화로 두 번(한 번은 그녀의 개인키, 한 번은 밥의 공개키로 실시) 사용
   - 마찬가지로 밥도 한 번의 그의 개인키로, 한 번은 앨리스의 공개키로 암호화를 두 번 사용
   - 이 설계는 앨리스에게는 밥의 공개키를, 밥에게는 앨리스의 공개키를 갖고 있을 것을 요구하는데, 공개키 배포는 쉽지 않음 : 안전하게 공개키를 배포하는 가장 일반적인 방법은 CA를 통해 공개키를 인증받는 것
