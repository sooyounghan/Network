-----
### 애플리케이션 게이트웨이
------
1. 패킷 수준 필터링이 하나의 기관에게 IP 주소, 포트 번호, ACK 비트 등과 같은 IP와 TCP/UDP 헤더 내용에 기반을 둔 넓은 단위의 필터링이 가능했음
2. 만일 어떤 기관이 제한된 범위의 일부 내부 사용자들(IP 주소로 구별되지 않는)에게만 서비스를 제공하고자 할 경우, 이는 전통적인 필터와 상태 고려 필터 능력을 벗어나는 것
3. 내부 사용자의 신원에 대한 정보는 애플리케이션 계층 데이터이며 IP / UDP / TCP 헤더에 포함되지 않음
4. 좀 더 세밀한 수준의 보안을 위해 방화벽은 패킷 필터를 애플리케이션 게이트웨이와 결합해야 함
   - 애플리케이션 게이트웨이는 IP / TCP / UDP 헤더 이상의 것을 살펴보고, 애플리케이션 데이터에 기초한 정책 결정을 함
   - 애플리케이션 게이트웨이는 모든 애플리케이션 데이터가 반드시 통과(들어가고 나옴)해야 하는 애플리케이션 맞춤 서버
   - 다수의 애플리케이션 게이트웨이가 같은 호스트에서 실행될 수 있으나 각 게이트웨이는 자신만의 프로세스들을 가진 분리된 서버

5. 제한된 내부 사용자만 외부로의 텔넷이 가능하게 하고, 모든 외부 클라이언트는 내부로 텔넷을 수행하지 못하게 하는 방화벽 설계
<div align="center">
<img src="https://github.com/user-attachments/assets/fb41e73d-4756-480f-8ef5-4687542b54fc">
</div>

  - 패킷 필터링(라우터에서)과 텔넷 애플리케이션 게이트웨이를 결합하여 구현 가능
  - 애플리케이션 게이트웨이의 IP 주소로부터 시작된 텔넷 연결을 제외하고 모든 텔넷 연결 시도를 막도록 라우터 필터를 설정
  - 이러한 필터 설정은 외부로의 모든 텔넷 연결이 애플리케이션 게이트웨이를 통과해야 함
  - 내부의 사용자가 외부로 텔넷 연결을 시도한다고 가정
    + 사용자는 먼저 애플리케이션 게이트웨이와 텔넷 세션을 설정
    + 게이트웨이는 입력되는 텔넷 세션 요청을 듣고 있는 애플리케이션이 있어서 사용자에게 ID와 비밀번호를 요구
    + 사용자가 해당 정보를 입력하면, 애플리케이션 게이트웨이는 그 사용자가 외부로의 텔넷 연결이 허용되는지 검사
      * 허용되지 않은 사용자라면, 내부 사용자가 게이트웨이까지 텔넷 연결은 게이트웨이에 의해 종료
      * 허가된 사용자라면, 게이트웨이는 사용자가 연결하기 원하는 외부 호스트 이름을 묻고, 게이트웨이와 외부 호스트 간 텔넷 연결 설정 후, 내부 사용자에게서 오는 모든 데이터를 외부 호스트에게 전달하고, 반대로 외부 호스트에서 오는 모든 데이터는 내부 사용자에게 전달
   - 따라서, 텔넷 애플리케이션 게이트웨이는 사용자 인증 수행뿐만 아니라 사용자와 원격 텔넷 서버 간의 정보를 전달해주는 텔넷 서버와 텔넷 클라이언트로 동작
   - 즉, 게이트웨이가 외부로부터의 텔넷 연결을 시작하므로 필터가 이를 처리

 6. 내부 네트워크들은 종종 여러 개의 애플리케이션 게이트웨이를 갖는데, 에를 들어 HTTP / FTP / 전자 메일을 위한 게이트웨이들이 있음 (한 기관의 메일 서버와 웹 캐시도 애플리케이션 게이트웨이)
 7. 단점
    - 각 애플리케이션마다 서로 다른 애플리케이션 게이트웨이를 필요로 함
    - 모든 데이터가 게이트웨이를 경유하여 중계되므로 성능 상 손실 발생 (특히, 여러 사용자나 애플리케이션들이 같은 게이트웨이 장치를 사용할 때 문제)
    - 클라이언트 소프트웨어는 사용자가 요구할 때 어떻게 게이트웨이와 통신할 수 있을지 알아야 하며, 어떤 외부 서버와 연결할지 애플리케이션 게이트웨이에게 알려줄 수 있어야함
