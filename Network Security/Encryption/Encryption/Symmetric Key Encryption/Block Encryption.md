-----
### 블록 암호화
-----
1. (보안 전자메일을 위한) PGP, (안전한 TCP 연결을 위한) TLS, (네트워크 계층 전송의 안전을 위한) IPsec 등 인터넷 프로토콜 안전을 위해 사용되는 블록 암호화
2. 메세지가 k비트의 블록 단위로 암호화
   - 예를 들어, k = 64라면, 메세지를 64비트 블록들로 쪼개어 각 블록을 독립적으로 암호화
   - 블록을 암호화하기 위해 암호화 기법은 k비트 블록의 평문을 k비트 블록의 암호문으로 대응
     + 예를 들어, k = 3이라고 한다면, 3비트 입력(평문)이 3비트 출력(암호문)으로 대치
     + 입력과 출력 간 가능한 사상의 예로, 이 기법은 일대일 사상임
<div align="center">
<img src="https://github.com/user-attachments/assets/dd157bca-0421-4cc0-86e5-54c2cbace5b7">
</div>

   - 즉, 각각의 입력에 대해 서로 다른 출력을 얻게 되며, 이 블록 암호화는 메세지를 3비트 블록으로 나누어 각각을 사상표에 따라 암호화 (따라서, 메세지 010110001111은 1010000111001로 암호화)
   - 위 표는 많은 가능한 사상 중 하나일 뿐임을 유의해야 함
   - 하나의 사상은 가능한 모든 입력의 순열 : 즉, 표의 입력열에 나열된 대로 총 $2^{3} = 8$개의 입력이 가능하며, 이 8개의 입력으로는 8! = 40320개의 서로 다른 순열이 만들어짐
     + 이 순열 각각이 하나씩 특정한 사상을 의미하므로, 총 40320가지의 가능한 사상표가 존재
     + 이들 각각의 사상표가 하나의 키로 간주될 수 있음

3. 이 암호 기법에 대한 가장 단순한 공격 방법 : 무작정 모든 사상을 시도해보는 것
   - 40320가지 (k = 3) 정도의 사상은 데스크톱 PC로 금방 검사하는 정도이며, 따라서, 이러한 공격에 대응하기 위해서는 블록 암호화 기법에서는 일반적으로 k = 64보다 큰 블록을 사용
   - 그다지 크지 않은 k에 대해서도 k비트 블록의 암호화의 가능한 사상 수는 $2^{k}!$로 천문학적 규모가 됨

4. 단점 : 구현이 어려움 (그다지 크지 않은 k에 대해서도 입력 가능한 모든 블록에 대응하는 출력 블록을 가진 테이블 기반 블록 암호화가 매우 안전하다는 대칭키 암호화 방법이라는 장점)
   - k = 64이고, 어떤 특정 사상이 주어지면 $2^{64}$개의 입력 블록에 대한 테이블을 유지해야 하는데 실행이 거의 불가능함
   - 또한, 키를 바꾸기로 하면 테이블을 재생성해야 함
  
5. 따라서, 입출력 블록의 순열 테이블을 임의로 모방 생성하는 함수 사용
<div align="center">
<img src="https://github.com/user-attachments/assets/420518b6-7b7f-44b7-853a-b08560c095a1">
</div>

   - k = 64일 때이며, 먼저 64비트 블록을 8비트씩 8개의 청크(Chunk)로 나눔
   - 각 8비트 청크는 관리 가능한 크기인 8비트 입력 블록에 대응하는 8비트 출력 블록을 가진 테이블에 의해 처리
   - 예를 들어, 첫 번째 청크는 $T_{1}$ 테이블에 의해 처리되는 식임
   - 이렇게 처리된 8개의 출력 청크는 하나의 64비트 블록으로 다시 합쳐지며, 블록 내 64비트 각각의 위치는 뒤섞여 하나의 64비트 출력을 만들어냄
   - 이후, 이 출력은 다시 입력부로 넘어가 새로운 사이클이 시작됨
   - 이 사이클을 n번 반복하고 나면 최종적인 64비트 암호문 블록이 생성
   - 라운드를 여러번 반복하는 이유는 각 입력 비트가 대부분의 최종 출력 비트들에 영향을 미치게 하려는 것임 : 라운드를 한 번만 수행하면 하나의 입력 비트는 64개 출력 비트 중 8개에만 영향을 미침
   - 이 블록 암호화 알고리즘의 키는 8개의 순열 테이블 (비트를 뒤섞는 규칙이 이미 공개되었다고 가정)

6. 오늘날 널리 사용되는 블록 암호화 방법 : DES(Data Encryption Standard), 3DES, AES(Adavanced Encryption Standard)
   - 각 표준들은 미리 정의된 테이블을 사용하지 않고, 위 그림에서 각 화살표에 대응되는 함수들을 사용
   - 각 알고리즘들은 또한 비트열을 키로 사용
     + DES는 56비트의 키를 64비트 블록과 함께 사용
     + AES는 128비트 블록을 사용하고, 128 / 192 / 256 비트 길이의 키를 사용
     + 알고리즘 키는 알고리즘 내부 특정 미니 테이블 사상과 순열을 결정
   - 이 암호화 기법을 무작정 해독하기 위해서는 모든 키를 순환하며 각 키로 복호화 알고리즘을 수행해봐야 함
   - 즉, 키의 길이가 n이면 총 $2^{n}$개의 가능한 키가 존재
