-----
### OpenFlow 프로토콜
-----
1. SDN 컨트롤러와 SDN으로 제어된느 스위치 또는 OpenFlow API를 구현하는 다른 장치와의 사이에서 동작
2. TCP 상 디폴트 포트 번호 6653을 가지고 동작
3. 컨트롤러가 제어되는 스위치로 전달하는 중요한 메세지
   - 설정 : 이 메세지를 컨트롤러가 스위치의 설정 파라미터를 문의 또는 설정할 수 있도록 함
   - 상태 수정 : 컨트롤러가 스위치 플로우 테이블 엔트리를 추가 / 제거 또는 수정하거나 스위치 포트의 특성을 설정하기 위해 사용
   - 상태 읽기 : 컨트롤러가 스위치 플로우 테이블과 포트로부터 통계 정보와 카운터 값을 얻기 위해 사용
   - 패킷 전송 : 컨트롤러가 제어하는 스위치의 지정된 포트에서 특정 패킷을 내보내기 위해 사용 (메세지 자체는 페이로드 부분에 보낼 패킷 포함)

4. SDN으로 제어되는 스위치에서 컨트롤러로 전달되는 주요 메세지
   - 플로우 제거 : 컨트롤러에게 어떤 플로우 테이블 엔트리가 시간이 만료되었거나 상태 수정 메세지를 수신한 결과로 삭제되었음을 알림
   - 포트 상태 : 스위치가 컨트롤러에게 포트의 상태 변화를 알리기 위해 사용
   - 패킷 전달 : 스위치 포트에 도착한 패킷 중 플로우 테이블의 어떤 엔트리와도 일치하지 않는 패킷은 처리를 위해 컨트롤러에게 전달되는데, 어떤 엔트리와 일치한 패킷 중에서도 일부는 그에 대한 작업 수행을 위해 컨트롤러에게 보내지기도 하는데, 그러한 패킷을 컨트롤러에게 보내기 위해 사용
  
-----
### 참고 : 구글의 소프트웨어 정의 글로벌 네트워크
-----
1. 구글이 자신들의 데이터 센터와 서버 클러스터(IXP와 ISP 내의) 연결하기 위한 전용 WAN을 설치
2. B4라고 불리는 네트워크는 Openflow 위에 직접 설계한 SDN 제어 평면을 가지고 있음
3. 다음과 같은 이유로 SDN과 잘 어울림
   - IXP와 ISP의 가장자리 서버부터 그들의 네트워크 코어에 있는 라우터까지 모든 장치 제어
   - 대역폭을 많이 사용하는 대부분 애ㅐ플리케이션은 사이트 간 대량 데이터를 복사하는데, 이는 자원의 혼잡 상황에서 높은 우선순위의 대화형 애플리케이션에 지연을 일으킴
   - 수십 개의 데이터 센터만 연결되어 있어서 중앙 집중식 제어가 가능

4. 구글 B4 네트워크는 주문 제작한 스위치를 사용하는데, 제어 에이전트와 유사한 로컬 오픈 플로우 에이전트(Local Open Flow Agent, LOFA)를 갖고 있고, OpenFlow의 약간 확장된 버전을 갖고 있음
5. 또한, 각 OFA는 데이터 센터 사이 데이터 센터 트래픽을 전달하는 네트워크와 구별되는 별도의 대역 외(Out-of-Band) 네트워크를 이용해 네트워크 제어 서버(Network Control Server, NCS)의 오픈 플로우 컨트롤러(Openf Flow Controller, OFC)에 연결
   - OFC는 NCS가 제어받는 스위치와 통신하기 위해 사용하는 서비스를 제공
   - SDN 아키텍쳐 최하위 계층과 유사
   - B4에서는 OFC가 상태 관리 기능까지 수행하면서 노드와 링크의 상태를 NIB(Network Information Base)에 유지
   - 두 가지 라우팅 프로토콜 BGP(데이터 센터 간 라우팅 위해)와 IS-IS(데이터 센터 내 라우팅을 위해 사용)가 구현
6. 트래픽 조정을 위한 네트워크 제어 애플리케이션은 논리적으로 네트워크 제어 서버 집합 상부에 위치하면서, 서버들과 상호작용하여 애플리케이션 플로우 그룹들에 네트워크 전역 대역폭 정보 제공
