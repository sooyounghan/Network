-----
### 소프트웨어 정의 네트워크 (SDN) 제어 평면
-----
1. 네트워크 포워딩 장비들을 패킷 스위치(또는 스위칭 대상은 당연히 패킷이므로 단순히 스위치라고 함)
   - 이 스위치들에서 포워딩 결정은 네트워크 계층에서의 출발지 / 목적지 주소, 링크 게층에서의 출발지 / 목적지 주소 외에도 트랜스포트 계층, 네트워크 계층, 링크 계층 패킷 헤더의 많은 값에 기반하여 이루어짐

2. SDN 구조의 네 가지 특징
   - 플로우 기반 포워딩
     + SDN으로 제어되는 스위치들에서 패킷 전달은 트랜스포트 계층, 또는 링크 게층 헤더의 어떤 값을 기반으로 하든 이루어질 수 있음
     + IP 데이터그램 포워딩은 온전히 데이터그램 목적지 주소를 기반으로 이루어지는 전통적 라우터 기반 포워딩과 매우 대조적 특성
     + 패킷 전달 규칙은 스위치 플로우 테이블에 기록되지만, SDN에서는 모든 네트워크 스위치 플로우 테이블 항목들을 계산하고 관리, 설치하는 일들이 모두 SDN 제어 평면의 임무

<div align="center">
<img src="https://github.com/user-attachments/assets/ac058496-6864-4a7f-b73b-d5fef3938e51">
</div>

   - 데이터 평면과 제어 평면의 분리
     + 데이터 평면은 네트워크의 스위치들로 구성되는데, 이들은 상대적으로 단순한 (그러나 빠른) 장치들로서 자신들의 플로우 테이블 내용을 기반으로 매치 플러스 액션 수행
     + 제어 평면은 서버와 스위치들의 플로우 테이블을 결정, 관리하는 소프트웨어 이루어짐

   - 네트워크 제어 기능이 데이터 평면 스위치 외부에 존재
     + SDN에서 S는 Software 이므로, SDN 제어 평면이 소프트웨어로 구현
     + 소프트웨어는 네트워크 스위치로부터 멀리 떨어진 별도 서버에서 수행
     + 제어 평면은 2개의 구성 요소, 즉 SDN 컨트롤러와 네트워크 애플리케이션들의 집합으로 이루어짐
     + 컨트롤러는 정확한 상태 정보(예) 원격 링크와 스위치, 호스트들 상태)를 유지하고, 이 정보를 제어 평면에서 동작하고 있는 네트워크 제어 애플리케이션에게 제공
     + 제어 애플리케이션은 하부 네트워크 장치들을 모니터하고 프로그램하고 제어까지 할 수 있도록 수단 제공
     + 컨트롤러는 단일 중앙 서버의 형태이지만, 실제로는 단지 논리적으로만 중앙 집중 형태 (몇 개의 서버로 구현)

   - 프로그램이 가능한 네트워크
     + 제어 평면에서 수행 중인 네트워크 제어 애플리케이션을 통해 네트워크를 프로그램할 수 있음
     + 이 애플리케이션들은 SDN 제어 평면의 두뇌로서 SDN 컨트롤러가 제공하는 API를 이용해 네트워크 장치들에 있는 데이터 평면을 명세하고 제어
     + 예를 들어, 라우팅 네트워크 제어 애플리케이션은 (예) SDN 컨트롤러가 갖고 있는 노드 상태 및 링크 상태 정보에 기반한 다익스트라 알고리즘을 수행하여) 출발지와 목적지 사이 종단 간 경로 결정
     + 또한, 어떤 패킷을 스위치에서 막을지 결정하는 접속 제어를 수행할 수 있으며, 서버의 부하를 분산시키는 방식으로 패킷 전달 가능
    
3. SDN은 네트워크 기능들의 획기적인 분리를 의미
   - 즉, 데이터 평면 스위치와 SDN 컨트롤러, 그리고 네트워크 제어 애플리케이션들 각각이 서로 다르게 제공하는 분리된 객체
   - 이는 하나로 짜여지고, 계층 수직적으로 통합된 스위치 또는 라우터를 단일 제조사로부터 구입하던 SDN 이전 네트워크 모델과 대조적 

-----
### SDN 컨트롤러와 SDN 네트워크 제어 애플리케이션
-----
1. SDN 제어 평면은 크게 SDN 컨트롤러와 SDN 네트워크 제어 애플리케이션이라는 두 가지 구성요소로 나뉨
2. SDN 컨트롤러 : 크게 3개의 계층으로 구성
<div align="center">
<img src="https://github.com/user-attachments/assets/bec11ff5-c00d-4fb1-a20d-9c28ec7305e5">
</div>

   - 통신 계층
     + SDN 컨트롤러와 제어 받는 네트워크 장치들 사이 통신
     + SDN 컨트롤러가 원격 SDN 기능이 가능한 스위치, 호스트 또는 다른 장치들의 동작을 제어하려면, 컨트롤러와 그 장치들 사이 정보를 전달하는 프로토콜이 필요
     + 장치는 주변에서 관찰한 이벤트를 컨트롤러에 알릴 수 있어야 함(예를 들어, 연결된 링크가 동작을 시작했거나 단절되었음을 나타내는 메세지, 장치가 네트워크에 합류했다는 메세지, 장치가 가동되어 동작 중임을 나타내는 신호)
     + 이러한 이벤트들은 SDN 컨트롤러에게 네트워크 상태에 대한 최선 정보 제공
     + 컨트롤러 구조의 가장 하위 계층을 구성하며, 컨트롤러와 제어받는 장치들 간의 통신은 사우스바운드(Southbound)라고 알려진 컨트롤러 인터페이스를 넘나듬
     + Openflow는 모두는 아니지만 대부분 SDN 컨트롤러에 구현되어 있음
    
   - 네트워크 전역 상태 관리 계층
     + SDN 제어 평면의 궁극적 제어 결정(예) 희망하는 종단 간 포워딩, 로드 밸런싱, 또는 특별한 방화벽 기능을 구현하기 위해 모든 스위치의 플로우 테이블을 설정하는 일)을 위해서는 컨트롤러가 네트워크 호스트와 링크, 스위치, 그리고 SDN으로 제어되는 다른 장치들에 대한 최신 정보를 알아야 함
     + 스위치의 플로우 테이블은 카운터들을 갖는데, 그 값들은 네트워크 제어 애플리케이션들에게 유익한 정보
     + 이러한 값들은 애플리케이션들이 사용할 수 있어야 함
     + 제어 평면의 궁극적 목적은 다양한 제어 장치들의 플로우 테이블을 결정하는 것이므로, 컨트롤러도 이 테이블들의 복사본을 유지해야 하며, 모두 SDN 컨트롤러가 유지하는 네트워크 전역 상태의 예

   - 네트워크 제어 애플리케이션 계층과의 인터페이스
     + 컨트롤러는 노스바운(Northbound) 인터페이스를 통해 네트워크 제어 애플리케이션과 상호 작용
     + 이 API는 네트워크 제어 애플리케이션이 상태 관리 계층 내 네트워크 상태 정보와 플로우 테이블을 읽고 쓸 수 있도록 해줌
     + 애플리케이션은 상태 변화 이벤트가 발생하면 알려달라고 등록하고, SDN으로 제어되는 장치에서 네트워크 이벤트 알림이 오면 적절한 조치를 취할 수 있음

3. SDN 컨트롤러는 논리적으로 중앙 집중된 것으로 간주할 수 있음
   - 즉, 컨트롤러는 외부에서 볼 때 잘 짜여진 하나의 서비스이지만, 이 서비스들과 상태 정보를 보관하기 위한 데이터베이스는 장애 허용성과 높은 가용성, 또는 다른 성능상의 이유로 실제로는 분산된 서버의 집합에 구현
   - 서버 집합에 구현된 컨트롤러 기능 때문에 컨트롤러 내부 동작들의 의미가 고려되어야 함
