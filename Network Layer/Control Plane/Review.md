-----
### IP 주소 체계, DNS, BGP를 포함한 네트워크 예
-----
1. 먼저 지역 ISP와 계약하여 인터넷 연결
2. 게이트웨이 라우터를 갖게 되면서, 이는 지역 ISP의 라우터에 연결될 것
   - 지역 ISP는 특정 범위의 IP 주소, 예를 들어 256개의 주소를 포함하는 /24 주소 범위를 제공
   - 물리적 연결과 IP 주소 범위를 가지면서, 웹 서버 / 메일 서버 / DNS 서버 / 게이트웨이 라우터와 다른 서버 및 네트워킹 장치들에 IP 주소를 할당

3. 도메인 이름을 얻기 위해 인터넷 등록 기관과 계약
   - DNS 시스템에 등록 (외부인이 서버의 IP 주소를 얻기 위해 DNS 서버의 IP 주소를 등록 기관에 제공해야 함)
   - DNS 시스템을 통해 DNS 서버의 IP 주소를 얻음
   - DNS 서버에 웹 서버의 호스트 이름과 IP 주소의 사상 항목을 포함시켜야 함
   - 또한, 공개적으로 사용 가능한 다른 서버들에 대해서도 유사한 항목을 가져야 함

4. 웹 서버의 IP 주소를 알아낸 클라이언트가 그 IP 주소로 데이터 그램(TCP SYN 세그먼트 등)을 보내기 위해 BGP를 통해 라우터가 IP 주소 프리픽스를 확인
   - 데이터그램은 인터넷을 통해 라우팅되어 여러 자율 시스템의 라우터들을 연속적으로 거친 후 웹 서버에 도착
   - 라우터들 각각은 이 데이터그램을 수신하면, 어느 출력 포트로 내보내야 하는지 결정을 위해 자신의 포워딩 테이블에서 해당 엔트리를 찾음
   - 따라서, 라우터는 주소 범위에 해당하는 IP 주소 프리픽스 24비트(또는 다른 길이 엔트리) 존재를 알아야 하는데, BGP를 통해 라우터가 IP 주소 프리픽스를 확인
   - 구체적으로, 지역 ISP와 계약하고 주소 프리픽스(즉, 주소 범위)를 할당 받을 때, 지역 ISP는 BGP를 사용해 자신과 연결되어 있는 ISP에게 주소 프리픽스를 알림
   - 연결된 ISP 역시 BGP를 활용해 알림 정보 전파
   - 결국, 모든 인터넷 라우터는 IP 주소 프리픽스(또는 포함하는 다른 단위 프리픽스)에 대해 인지하므로 웹이나 메일 서버를 목적지로 하는 데이터그램을 적절하게 전달 가능
