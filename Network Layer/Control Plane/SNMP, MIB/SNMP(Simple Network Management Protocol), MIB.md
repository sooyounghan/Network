-----
### SNMPv3(Simple Network Management Protocol version 3), MIB
-----
1. 관리 서버와 그 관리 서버를 대표하여 실행되고 있는 에이전트 사이에서 네트워크 관리 제어 및 정보 메세지를 전달하기 위해 사용
2. 가장 흔한 사용 형태 : 요청-응답 모드(Request-Response Mode)
   + SNMP 관리 서버는 에이전트에게 요청을 송신하고, 이를 받은 SNMP 에이전트는 이를 수행한 후 요청에 대한 응답을 보냄 : 일반적으로, 요청은 피관리 장치와 관련된 MIB 객체 값들을 질의(검색) 또는 수정(설정)하기 위해 이용
   + SNMP의 두번쨰 사용은 에이전트가 요구받지 않았더라도 트랩 메세지(Trap Message)라는 일므의 메세지를 관리 서버에게 전송 : 트랩 메세지들은 관리 서버들에게 MIB 객체 값들을 변화시킨 예외 상황(예) 링크 인터페이스 활성 또는 비활성)의 발생을 통지하기 위해 이용
3. MIB 객체는 SMI(Structure of Management Information)라고 하는 데이터 기술 언어로 명세
   - 정형의 정의 언어는 네트워크 관리 데이터 구문과 의미가 잘 정의되어 모호하지 않도록 보장하기 위해 사용
   - 관련된 MIB 객체들은 MIB 모듈에 모아짐
4. 일반적으로 PDU(Protocol Data Unit)로 알려진 일곱 가지 타입 메세지 정의
5. SNMPv3 PDU 타입과 포맷
<div align="center">
<img src="https://github.com/user-attachments/assets/d2e12c1c-4a9a-40f1-a9c5-19862a2cdc83">
</div>

  - GetRequest, GetNextRequest, GetBulkRequest PDU : 모두 에이전트의 피관리 장치 내 하나 이상의 MIB 객체 값을 요청하기 위해 관리 서버로부터 에이전트로 전송
    + 값이 요청된 MIB 객체는 PDU 변수 관련 부분에 명세
    + 데이터 요청들의 정밀도 면에서 다름
      * GetRequest : MIB 값들의 임의적인 집합을 요청할 수 있음
      * 다중 GetNextRequest : MIB 객체들의 목록 또는 테이블을 순차적 검색할 수 있음
      * GetBulkRequest : 데이터를 큰 블록으로 반환하게 됨으로 여러 개의 GetRequest 또는 GetNextRequest 메세지가 송신되었을 때 발생할 수 있는 오버헤드를 피할 수 있음
    + 세 가지 경우 모두, 에이전트는 객체 식별자들과 그에 관련된 값들을 Response PDU에 담아 응답

  - SetReqeuest PDU : 관리 서버가 피관리 장치 안의 하나 또는 그 이상의 MIB 객체들의 값을 설정하기 위해 사용 : 에이전트는 값이 제대로 설정되었음을 알려주기 위해 'noError'라는 오류 상탯값을 Response PDU에 담아 응답
  - Response PDU : 일반적으로 피관리 장치에서 관리 서버로 서버의 요청 메세지에 응답해서 전송 (요청된 정보 반환)
  - Trap Message PDU : 비동기적으로 발생하며, 요청을 수신했을 때가 아닌 관리 서버가 통지를 요구한 이벤트가 발생했을 때 발생
    + RFC 3418에서는 장치에 의한 콜드(Cold) 또는 웜 스타트(Warm Start), 링크를 연결하거나 끊는 것, 이웃 장치 실종, 또는 인증 실패를 포함하는 잘 알려진 트랩 타입 정의
    + 수신된 트랩 타입 요청은 관리 서버로부터 어떤 응답도 요구하지 않음

6. SNMP 요청-응답 특성을 감안할 때, SNMP PDU들이 다른 많은 전송 프로토콜에 의해 운반될 수 있기는 하지만 일반적으로 UDP 데이터그램의 페이로드 부분에 실림
   - 실제로 RFC 3417은 UDP를 선호하는 전송 매핑이라고 말함
   - 그러나 UDP는 신뢰성이 보장되지 않는 전송 프로토콜이므로 요청 또는 그에 대한 응답이 의도한 목적지에 도착한다는 보장이 없는데, PDU의 요청 ID 필드는 관리 서버가 에이전트에 보내는 요청에 번호를 매기기 위해 사용
   - 에이전트의 응답은 수신된 요청으로부터 요청 ID 값을 취하므로, 따라서 요청 ID 필드는 관리 서버가 요청 또는 응답의 분실을 검출하는 데 이용 가능
   - 주어진 시간 후에도 어떤 상응하는 응답이 도착하지 않을 경우, 요청을 재전송할 것인지 아닌지 결정은 관리 서버에 달려있으며, 특히 SNMP 표준은 재전송을 위한 특별 절차를 규정하지 않음

7. MIB
   - SNMP/MIB 방식의 네트워크 관리에서 피관리 장치의 동작 상태 데이터가 해당 장치를 위한 MIB에 수집된 객체들로 표현
   - MIB 객체는 IP 데이터그램 헤더 오류로 인해 라우터에서 버려지는 데이터그램 개수나 이더넷 인터페이스 카드의 반송과 감지 오류 횟수를 카운트하는 카운터일 수 있으며, DNS 서버에서 실행되는 소프트웨어 버전과 같은 설명 정보, 특정 장치가 올바르게 작동하는지 여부와 같은 상태 정보, 또는 어떤 목적지로의 라우팅 경로 같은 프로토콜에 특정된 정보일 수 있음
   - 관련된 MIB 객체들은 MIB 모듈로 합쳐지며, 다양한 IEFE RFC 문서에 정의된 400개 이상 MIB 모듈이 있고, 그보다 더 많은 장치별 및 공급 업체별 MIB 존재
<div align="center">
<img src="https://github.com/user-attachments/assets/faacd369-0895-4a43-909d-fdebf3b07429">
</div>

   - ipSystemStatsInDelivers 객체 유형은 피관리 장치가 수신하여 상위 계층 프로토콜로 성공적으로 전달한 IP 데이터그램 수를 세는 32비트 읽기 전용 카운터로 정의
   - Counter32는 SMI로 정의된 기본 데이터 유형 중 하나
