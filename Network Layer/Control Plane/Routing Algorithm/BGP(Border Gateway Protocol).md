-----
### BGP(Border Gateway Protocol, 경계 게이트웨이 프로토콜)
-----
1. 동일한 AS내 있는 출발지와 목적지 사이 패킷을 라우팅할 때, 패킷이 전송되는 경로는 전적으로 AS 내부 라우팅 프로토콜에 의해 결정
2. AS 간 라우팅 프로토콜은 여러 AS 간의 협력이 수반되므로 통신하는 AS들은 같은 AS 간 라우팅 프로토콜을 수행해야 함
   - 실제 인터넷의 모든 AS는 경계 게이트웨이 프로토콜(Border Gateway Protocol)이라고 불리는 동일한 AS 간 라우팅 프로토콜 사용
   - 이를 BGP라고 부름
3. BGP는 인터넷에 있는 수천 개의 ISP들을 연결하는 분산형 비동기식 프로토콜
4. BGP의 역할
   - AS와 그 AS 내 임의 라우터 가정
   - 라우터는 포워딩 테이블을 가지고 있는 도착한 패킷을 출력 링크로 보내는 중요 역할
   - 같은 AS 내에 있는 목적지에 대해서 라우터의 포워딩 엔트리들이 해당 AS와 AS 내부 라우팅 프로토콜에 의해 결정
  
5. 목적지가 AS 외부에 있는 경우 BGP가 필요
   - BGP에서는 패킷이 특정한 목적지 주소를 향해서가 아닌 CIDR(Classless Inter-Domain Routing) 형식으로 표현된, 주소의 앞쪽 프리픽스(Prefix)를 향해 전달
   - 각 프리픽스는 서브넷이나 서브넷의 집합을 나타냄
   - 예) 목적지가 ```136.16.68/22```와 같은 형식으로 표현되고, 1024개의 IP 주소를 포함
   - 여기서 라우터 포워딩 테이블은 (x, I)의 형식의 엔트리를 갖게 됨
     + x : 주소 프리픽스
     + I : 라우터 인터페이스의 인터페이스 번호

6. AS 간 라우팅 프로토콜로서 BGP의 수단
   - 이웃 AS를 통해 도달 가능한 서브넷 프리픽스 정보를 얻음
     + BGP는 각 서브넷이 자신의 존재를 인터넷 전체에 알릴 수 있도록 함
     + BGP는 인터넷 모든 라우터가 이 서브넷에 대해 알 수 있도록 만듬

   - 서브넷 주소 프리픽스로의 가장 좋은 경로 결정
     + 라우터는 특정 주소 프리픽스를 향한 2개 이상 경로 알 수 있음
     + 가장 좋은 경로를 결정하기 위해 라우터는 BGP의 경로 결정 프로시저(이웃 라우터를 통해 얻은 도달 가능 프리픽스 정보 이용)를 수행
     + 최고의 경로는 도달 가능 정보 뿐만 아니라 정책 기반으로 결정

