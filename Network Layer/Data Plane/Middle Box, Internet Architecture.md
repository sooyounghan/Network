-----
### 미들박스
-----
1. 라우터는 네트워크 계층의 작업자이며, 데이터 경로에 위치하여 전달 이외의 기능을 수행하는 네트워크 장비(웹 캐시, TCP 연결 스플리터, NAT, 방화벽, 침입 탐지 시스템, 매치 플러스 액션 작업 등)은 미들박스
2. 미들박스 : 출발지 호스트와 목적지 호스트 사이 데이터 경로에서 IP 라우터의 정상적이고 표준적인 기능과 별도로 기능을 수행하는 것
3. 미들박스가 수행하는 세 가지 유형 서비스
   - NAT 변환 : NAT 박스는 사설 네트워크 주소체계를 구현해 데이터그램 헤더 IP 주소 및 포트 번호를 다시 작성
   - 보안 서비스 : 방화벽은 헤더 필드값을 기준으로 트래픽을 차단하거나 DPI(Deep Packet Inspection) 같은 추가 처리를 위해 패킷을 Redirection
     + 침입 탐지 시스템(IDS)은 미리 결정된 패턴을 탐지하고 그에 따라 패킷을 필터링
     + 애플리케이션 레벨 전자메일 필터는 정크, 피싱 또는 보안 위협 요인으로부터 간주되는 전자메일을 차단

   - 성능 향상 : 압축과 같은 서비스를 수행 (즉, 원하는 서비스를 제공할 수 잇는 서버 집합 중 하나에 대한 서비스 요청(예) HTTP 요청 또는 검색 엔진 질의)의 로드 밸런싱을 하는 주체

4. 미들박스는 유무선 셀룰러 네트워크 모두에서 세 가지 유형의 서비스에 속하는 기능 제공
5. 이러한 서비스를 구현하기 위해 일반적인 소프트웨어 스택 위 구축된 전문화된 소프트웨어와 함께 사용할 수 있는 하드웨의 사용을 탐구하는 방식 : 네트워크 기능 가상화 (Network Function Virtualization, NFV)
6. 네트워크 계층은 IP 데이터그램 헤더에 있는 필드만을 사용해 데이터그램을 목적지로 전달하기 위해 네트워크 코어 내 작동하는 라우터로 구성
7. 트랜스포트 게층과 애플리케이션 계층은 네트워크 가장자리에 작동하는 호스트에서 구현
8. 호스트들은 트랜스포트 게층 세그먼트와 애플리케이션 계층 메세지에서 그들끼리 패킷 교환
9. 오늘날의 미들박스는 이러한 분리를 명백히 위반
    - 라우터와 호스트 사이 위치한 NAT 박스는 네트워크 게층 IP 주소와 트랜스포트 게층 포트 번호를 다시 씀
    - 네트워크 내 방화벽 블록은 애플리케이션 계층(예) HTTP), 트랜스포트 계층, 네트워크 계층 헤더 필드를 사용해 데이터 그램을 의심

-----
### 인터넷 아키텍쳐 원리
-----
1. 연결의 목적은 접속성을 제공하는 것이며, 네트워크 코어가 아닌 네트워크 가장자리에 배치
2. IP 모래시계
<div align="center">
<img src="https://github.com/user-attachments/assets/6aaa578e-30ab-4b3b-b7da-dfa1edb62048">
</div>

   - 5계층 인터넷 프로토콜 스택은 IP 모래시계(IP hourglass)로 알려져있으며, 계층화된 인터넷 아키텍쳐의 좁은 허리를 보여줌
   - 인터넷은 각 계층이 많은 프로토콜을 가지고 있지만, 네트워크 게층은 IP 프로토콜 하나만 가지고 있음
   - 이는 IP 프로토콜의 상대적 단순성과 인터넷 접속의 유일한 보편적 요건이라는 사실로 이더넷에서 와이파이, 셀룰러에서 광학 네트워크까지 매우 다른 기본 링크 게층 기술을 사용하지만 하나의 프로토콜만 가짐

3. 엔드 투 엔드 인수
   - 인텔리전스는 네트워크에 숨겨져 있는 것이 아닌 엔드 투 엔드로 되어 있음
   - 이는 네트워크 내 기능 배치와 관련이 있으며, 미들박스가 등장하기 전까지 대부분 인터넷 기능은 네트워크 가장자리에 배치
   - 엔드 투 엔드 논쟁의 예) 신뢰할 수 있는 데이터 전송, 오류 제어 수행 등
