-----
### PAN (Personal Area Network) : 블루투스
-----
1. 수십 미터 이하 단거리에서 저전력, 저비용으로 동작하므로, 블루투스 네트워크를 WPAN(Wireless Personal Area Network) 또는 피코넷(PICONET)이라고 함
2. 시분할 다중화 및 주파수 분할, 랜덤 백오프, 폴링, 오류 검출과 정정, ACK / NAK를 이용한 신뢰성 있는 전송 등 많은 기술이 블루투스 링크 계층을 고려하고 지원
3. 블루투스 네트워크는 무선 ISM(Industrial, Scientific, Medical) 밴드로서 허가가 필요 없는 2.4 GHz 대역에서 동작하며, 같은 주파수 대역을 사용하는 가전제품인 전자레인지, 차고 문 제어기, 가정용 무선전화 등과 경쟁
   - 그 결과, 블루투스 네트워크는 명시적으로 소음과 간섭 현상을 염두에 두고 설계
   - 블루투스 무선 채널은 625 마이크로초의 시간 슬롯을 가진 TDM 방식으로 동작
   - 각 시간 슬롯마다 송신자는 79개의 채널 중 하나로 전송하며 슬롯마다 주파수 채널을 변경하는데, 변경할 주파수 채널 선택은 난수에 의한 의사 무작위 추출 방식 사용
   - 이런 형태의 주파수 변경 또는 주파수 도약 기법은 주파수 도약 환산 스펙트럼(Frequency-Hopping Spread Spectrum, FHSS) 방식으로 알려져 있으며, 이 방법을 통해 ISM 대역을 사용하는 장치나 가전과의 간섭 현상이 일부 시간 슬롯으로 한정될 수 있음
   - 블루투스 데이터 전송률은 최대 3 Mbps에 이름

4. 블루투스 네트워크는 AP 등의 인프라스트럭처가 없는 애드훅 네트워크
<div align="center">
<img src="https://github.com/user-attachments/assets/403bf8ac-c715-4c11-bc51-11b3539d79d3">
</div>

   - 스스로 최대 8개의 활성화된 노드로 구성된 피코넷을 형성해야 함
   - 이들 중 1개 장치가 중앙 집중형 제어 노드로 지정되며 나머지 장치들은 클라이언트가 됨
   - 중앙 집중형 제어 노드는 피코넷 내부의 다른 노드들을 확실하게 제어
   - 시간 슬롯의 경계를 결정하는 클록의 관리, 주파수 도약 순서 제공, 피코넷으로의 클라이언트 진입 제어, 클라이언트 장치의 전송 전력 제어 등 모두 집중형 제어 노드가 수행하는 작업
   - 중앙 집중형 제어 노드는 네트워크 진입이 허용된 클라이언트에게 폴링 방식을 사용하여 전송 권한을 부여
   - 피코넷 안에는 8개의 활성화된 장치 외에도 최대 255개 주차된 장치가 있을 수 있는데, 주차된 장치는 절전을 위해 수면 상태인 경우가 많음
   - 수면 상태의 장치는 스케줄링에 따라 중앙 집중형 제어 노드로부터 비컨 메세지를 수신하기 위해 주기적으로 깨어남
   - 주차된 장치는 중앙 집중형 제어 노드에 의해 활성화된 장치로 변경되기 전 통신을 할 수 없음

5. 블루투스 애드훅 네트워크는 AP 없이 스스로 네트워크를 구성해야하므로, 노드들이 네트워크 구조를 초기화해야 함
   - 먼저 중앙 집중형 제어 노드가 블루투스 네트워크를 형성하려면 영역 내 다른 어떤 블루투스 노드가 존재하는지 결정
   - 즉, 이웃 노드를 찾아내는 이웃 탐색 문제를 해결해야 함
   - 중앙 집중형 제어 노드는 연속적인 32개 조회 메세지를 각기 다른 채널을 통해 브로드캐스트함으로써 이를 수행
   - 이 조회 메세지 전송은 최대 128번까지 반복될 수 있음
   - 클라이언트 장치는 이 조회 메세지를 듣기 위해 주파수 중 하나를 선택해 수신을 기다리며, 조회 메세지를 수신하면 다른 응답 노드와의 충돌을 피하기 위해 0 ~ 0.3초 사이의 임의의 시간 대기 후 자신의 ID를 포함한 응답 메세지를 중앙 집중형 노드에게 전송
   - 여기서 클라이언트가 임의의 시강늘 대기하는 이유는 이더넷에 이진 백오프 기법과 유사

6. 일단 중앙 집중형 제어 노드가 주변의 가능한 클라이언트 노드들을 모두 발견했다면, 그 중 피코넷에 가입을 원하는 클라이언트 노드들을 초대
   - 이 단계를 블루투스 페이징(Bluetooth Paging)이라고 하며, 802.11에서 클라이언트가 기지국과 결합하는 가정과 비슷
   - 페이징 과정을 통해 중앙 집중형 제어 노드는 사용할 주파수 도약 패턴과 클록 정보를 클라이언트에게 알림
   - 중앙 집중형 제어 노드는 또 다시 32개의 동일한 페이징 초대 메세지를 각 클라이언트 주소로 전송하는 것으로 페이징 단계를 시작
   - 아직 클라이언트가 주파수 도약을 배우지 않았으므로 메세지는 각각 다른 주파수를 통해 전송됨
   - 클라이언트가 초대 메세지에 대해 ACK로 응답하면 중앙 집중형 제어 노드는 주파수 도약 정보, 클록 동기화 정보, 활성화된 멤버의 주소를 클라이언트에게 전송
   - 이후, 제어 노드는 각 클라이언트를 폴링하여 클라이언트가 네트워크에 연결되어 있음을 확인하고 주파수 도약 패턴을 사용한 통신을 시작

7. 더 높은 레벨의 프로토콜들은 신뢰성 있는 데이터 전송, 가상 회선 방식의 오디오 비디오 스트리밍, 전송 전력 제어, 활성화 / 주차 상태 변경 등 기능 제공
8. 최신 버전의 블루투스는 저전력과 보안 문제도 고려
