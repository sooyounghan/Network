-----
### IEEE 802.11 프레임
-----
1. 802.11 프레임은 이더넷 프레임과 유사성이 많긴 하지만, 무선 링크 사용에 특화된 몇개의 필드를 가지고 있음
<div align="center">
<img src="https://github.com/user-attachments/assets/edfd9c95-d7a7-496b-ac88-f9d8f97fbd70">
</div>

  - 프레임의 각 필드 위의 숫자는 필드 길이를 바이트 단위로 나타낸 것
  - Frame Control 필드의 서브 필드 위의 숫자는 서브 필드의 길이를 비트 단위로 나타낸 것

2. Payload, CRC 필드
   - 프레임 중심에는 페이로드가 있고, 페이로드는 보통 하나의 IP 데이터그램이나 ARP 패킷
   - 페이로드 필드는 최대 2,312 바이트까지 허용되지만, 보통 1,500 바이트보다는 작으며 하나의 IP 데이터그램이나 ARP 패킷 포함
   - 이더넷 프레임처럼 802.11 프레임은 수신자가 수신한 프레임의 비트 오류를 검출할 수 있도록 32비트의 CRC를 포함
   - 비트 오류는 유선 랜보다 무선 랜에서 훨씬 많이 발생하므로 CRC 기법은 무선 랜에서 더 유용

3. 주소 필드
   - 802.11 프레임의 가장 큰 차이점은 4개의 주소 필드(각 주소 필드는 6바이트의 MAC 주소를 포함할 수 있음)를 갖고 있음
   - 네트워크 연동을 위해서는 3개의 주소가 필요하며, 4번째 주소는 애드훅 네트워크 모드에서 사용
   - 처음 3개의 주소
     + Address 2 : 프레임을 전송하는 스테이션의 MAC 주소로, 무선 스테이션이 프레임을 전송하면 그 스테이션의 MAC 주소가 Address 2 필드에 삽입 (이와 유사하게, AP가 프레임을 전송하면 AP의 MAC 주소가 Address 2 필드에 삽입)
     + Address 1 : 프레임을 수신하는 무선 스테이션의 MAC 주소로, 이동 무선 스테이션이 프레임을 전송하면 Address 1에는 목적지 AP의 MAC 주소가 삽입 (이와 유사하게, AP가 프레임을 전송하면 Address 1에 목적지 무선 스테이션의 MAC 주소가 삽입)
     + Address 3 : BSS(AP와 무선 기지국으로 구성된 BSS)가 서브넷의 일부이고, 이 서브넷은 라우터 인터페이스를 통해 다른 서브넷으로 연결되며, Address 3은 라우터 인터페이스의 MAC 주소를 포함

4. Address 3의 사용
<div align="center">
<img src="https://github.com/user-attachments/assets/b225c9ca-2fb7-478a-8089-b837ccfcc8c6">
</div>

  - 2개의 AP가 있으며, 각 AP는 다수의 무선 스테이션들을 책임짐
  - 각 AP는 라우터에 직접 연결되어 있으며, 라우터는 글로벌 인터넷에 연결
  - AP는 링크 계층 장치이며, 네트워크 계층인 IP의 기능을 갖지 않고 또한 IP 주소를 이해하지 못함
  - 라우터 인터페이스 R1로부터 무선 스테이션 H1로 데이터그램을 전달한다고 가정
    + 라우터는 자신과 H1 사이에 AP가 존재한다는 사실을 모름
    + 라우터는 H1을 자신에게 연결된 서브넷 중 하나에 속한 호스트 정도로 인식
    + 이더넷 랜에서와 마찬가지로, (데이터그램 목적지 주소로부터) H1의 IP 주소를 알게 된 라우터는 ARP를 이용해 H1의 MAC 주소를 결정하며, H1의 MAC 주소를 획득한 라우터 인터페이스 R1은 이더넷 프레임 내 데이터그램을 캡슐화 (이 프레임의 출발지 주소 필드는 R1의 MAC 주소, 목적지 주소 필드는 H1의 MAC 주소)
    + 이더넷 프레임이 AP에 도착하면, AP는 이 프레임을 무선 채널로 전송하기 전에 802.3 이더넷 프레임을 802.11 프레임으로 변환 (AP는 Address 1과 Address 2를 H1의 MAC 주소와 자신의 MAC 주소로 각각 채워넣으며, AP는 Address 3에 R1의 MAC 주소를 포함) : 즉, H1은 데이터그램을 서브넷으로 전송한 라우터 인터페이스 MAC 주소를 Address 3으로 알 수 있음

 - 무선 기지국 H1이 응답으로 R1에게 데이터 그램을 전송하는 경우
   + H1은 Address 1과 Address 2에 각각 AP의 MAC 주소와 H1의 MAC 주소가 포함되는 802.11 프레임을 생성, H1은 Address 3에 R1의 MAC 주소를 포함
   + AP가 이 802.11 프레임을 수신하면 이를 이더넷 프레임으로 변환하며, 이더넷 프레임 출발지 주소 필드는 H1의 MAC 주소, 목적지 주소 필드는 R1의 MAC 주소가 되며, 따라서 Address 3은 AP가 이더넷 프레임을 구성할 때 목적지 MAC 주소를 결정할 수 있게 해줌

 - 즉, Address 3은 BSS를 유선 랜과 연동하는 데 아주 핵심적인 역할을 함

-----
### Sequence Number, Duration, Frame Control 필드
-----
1. 802.11에서는 한 스테이션이 다른 스테이션으로부터 프레임을 제대로 수신할 때마다 ACK를 보냄
2. ACK가 손실될 수 있으므로, 송신 스테이션은 같은 프레임을 여러 번 보낼 수 있음
3. 순서 번호를 사용함으로써, 수신자는 새로 전송된 프레임과 재전송된 프렝미을 구분할 수 있듯이, 802.11 프레임의 Sequence Number 필드 역시 동일하게 작동
4. 802.11 프로토콜에서 송신 스테이션은 데이터 프레임을 전송하는 시간과 ACK를 전송하는 시간을 포함한 시간 동안 채널을 예약할 수 있는데, 데이터 프레임과 RTS 및 CTS 프레임 모두에 대해 이 시간값은 Duration 필드에 포함
5. Frame Control 필드는 여러 개 서브필드로 구성
   - Type, Subtype 필드는 결합, RTS, CTS, ACK, 데이터 프레임을 구분하는 데 사용
   - To 필드와 From 필드는 주소 필드들의 의미를 정의하는 데 사용 (주소 필드가 갖는 의미는 애드훅 또는 인프라스트럭쳐 방식의 사용 여부에 따라서, 또한 인프라스트럭쳐 방식의 경우 프레임을 무선 기지국에 전송하는지 또는 AP가 전송하는지 여부에 따라 달라짐)
   - WEP 필드 : 암호화 사용 여부를 나타냄
