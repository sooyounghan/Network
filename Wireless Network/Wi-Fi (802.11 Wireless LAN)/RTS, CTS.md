-----
### RTS(Request To Send), CTS(Clear To Send)
-----
1. 802.11 MAC 프로토콜은 숨은 터미널이 존재하더라도 충돌을 회피할 수 있는 훌륭한 예약 방법 제공
2. 2개의 무선 스에티션과 하나의 AP가 존재
<div align="center">
<img src="https://github.com/user-attachments/assets/0dca4d12-9df9-4186-8f77-6554eba7ec55">
</div>

   - 두 무선 스테이션은 동일한 AP 영역(전송 범위는 원으로 표시) 내에 있으며 AP와 결합
   - 페이딩 때문에 무선 스테이션의 신호 범위는 어두운 원으로 제한
   - 각 무선 스테이션은 AP로부터 잘 보이지만, 그들 서로 간에는 숨어 있음
   - 스테이션 H1이 프레임을 AP로 전송하고 있고, H1이 전송하는 도중에 스테이션 H2가 AP로의 전송을 원한다고 가정
     + H1이 전송을 듣지 못한 H2의 임의의 시간(DIFS)을 기다린 후에 DATA 프레임을 전송하며 이 경우 충돌이 발생
     + 따라서, H1의 전체 전송 시간과 H2의 전체 전송 시간 동안 채널이 낭비

3. 이 문제를 해결하기 위해 IEEE 802.11 프로토콜에서는 스테이션들이 짧은 RTS 제어 프레임과 CTS 제어 프레임을 주고 받게 함으로써 채널 접속을 예약할 수 있음
   - 송신자는 DATA 프레임을 전송하고 싶으면, 먼저 RTS 프레임을 AP에게 보냄으로써 DATA 프레임과 ACK 프레임을 전송하는 데 필요한 전체 시간을 알려줌
   - AP가 RTS를 수신하면 이에 대한 응답으로 CTS 프레임을 송신 스테이션을 포함한 영역 내 모든 스테이션에게 전송
   - CTS 프레임은 송신자에게는 전송할 수 있다는 허가를 명확하게 알려주고, 다른 스테이션들에게는 예약된 시간동안 전송하지 못하게 하는 두 가지 목적 수행

4. 따라서, H1은 DATA 프레임을 전송하기 전에 먼저 RTS 프레임을 브로드캐스트하며, 해당 원 안의 모든 스테이션(AP 포함)은 이를 듣게 됨
   - 그러면 AP는 CTS 프레임으로 응답하고, 이를 해당 범위의 모든 스테이션(H1, H2)이 듣게 됨
   - CTS를 수신한 스테이션 H2는 CTS 프레임에 명시된 시간 동안 전송하지 않음
<div align="center">
<img src="https://github.com/user-attachments/assets/01e41aa8-e0d1-48ef-b400-ab12b1aa8d5a">
</div>

   - RTS와 CTS 프레임을 사용 할때의 2가지 측면에서의 성능 향상
     + 숨은 스테이션 문제가 완화될 수 있음 : 채널을 예약한 다음 길이가 긴 DATA 프레임만 전송하기 때문임
     + RTS와 CTS 프레임은 길이가 짧으며, RTS / CTS 프레임에 의한 충돌은 짧은 RTS / CTS 프레임이 전송되는 동안에만 발생
     + 일단, RTS와 CTS 프레임이 제대로 전송되면, 그 뒤에 오는 DATA와 ACK 프레임은 충돌 없이 전송

5. RTS / CTS를 교환함으로써 충돌을 감소시킬 수 있지만, 이로 인해 채널 낭비와 지연이 발생
   - 따라서 RTS / CTS 교환은 긴 DATA 프레임을 전송하기 위해 채널을 예약할 때만 사용
   - 실제로 무선 스테이션에서는 프레임이 임계치보다 긴 경우에만 RTS / CTS 절차가 사용될 수 있도록 RTS 임계치를 설정할 수 있음
   - 많은 무선 스테이션에서는 기본 RTS 임계치가 최대 프레임 길이보다 길게 설정되어 있으며, 모든 DATA 프레임 전송 시 RTS / CTS 절차가 생략
